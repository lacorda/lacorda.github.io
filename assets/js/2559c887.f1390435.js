"use strict";(globalThis.webpackChunklacorda_github_io=globalThis.webpackChunklacorda_github_io||[]).push([[3884],{50230:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>g});var o=n(44320),i=(n(37953),n(58860));const r={description:"widget\u5c0f\u90e8\u4ef6",slug:"/804619e",tags:["widget\u5c0f\u90e8\u4ef6"]},d="widget\u5c0f\u90e8\u4ef6",l={unversionedId:"monaco-editor/API/widget\u5c0f\u90e8\u4ef6",id:"monaco-editor/API/widget\u5c0f\u90e8\u4ef6",title:"widget\u5c0f\u90e8\u4ef6",description:"widget\u5c0f\u90e8\u4ef6",source:"@site/03.third/01.monaco-editor/99.API/06.widget\u5c0f\u90e8\u4ef6.md",sourceDirName:"01.monaco-editor/99.API",slug:"/804619e",permalink:"/third/804619e",draft:!1,tags:[{label:"widget\u5c0f\u90e8\u4ef6",permalink:"/third/tags/widget\u5c0f\u90e8\u4ef6"}],version:"current",sidebarPosition:6,frontMatter:{description:"widget\u5c0f\u90e8\u4ef6",slug:"/804619e",tags:["widget\u5c0f\u90e8\u4ef6"]},sidebar:"third",previous:{title:"\u6a21\u578bmodel",permalink:"/third/732fc5c"},next:{title:"ViewZone\u89c6\u56fe\u533a\u57df",permalink:"/third/777a9e3"}},a={},g=[{value:"ContentWidget\u5185\u5bb9\u90e8\u4ef6",id:"contentwidget\u5185\u5bb9\u90e8\u4ef6",level:2},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",level:3},{value:"Properties",id:"properties",level:3},{value:"allowEditorOverflow",id:"alloweditoroverflow",level:4},{value:"suppressMouseDown",id:"suppressmousedown",level:4},{value:"Methods",id:"methods",level:3},{value:"afterRender",id:"afterrender",level:4},{value:"beforeRender",id:"beforerender",level:4},{value:"getDomNode",id:"getdomnode",level:4},{value:"getId",id:"getid",level:4},{value:"getPosition",id:"getposition",level:4},{value:"OverlayWidget \u8499\u7248\u90e8\u4ef6",id:"overlaywidget-\u8499\u7248\u90e8\u4ef6",level:2},{value:"\u4f7f\u7528",id:"\u4f7f\u7528-1",level:3},{value:"Methods",id:"methods-1",level:3}],s={toc:g},p="wrapper";function c({components:e,...t}){return(0,i.yg)(p,(0,o.A)({},s,t,{components:e,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"widget\u5c0f\u90e8\u4ef6"},"widget\u5c0f\u90e8\u4ef6"),(0,i.yg)("h2",{id:"contentwidget\u5185\u5bb9\u90e8\u4ef6"},"ContentWidget\u5185\u5bb9\u90e8\u4ef6"),(0,i.yg)("p",null,"\u663e\u793a\u5728\u7f16\u8f91\u5668\u4e0a\u65b9\uff0c\u53ef\u7a7f\u900f\uff0c\u4e14\u4f4d\u7f6e\u5b8c\u5168\u7531",(0,i.yg)("inlineCode",{parentName:"p"},"position"),"\u5c5e\u6027\u5b9a\u4e49\uff0c\u65e0\u6cd5\u4f7f\u7528",(0,i.yg)("inlineCode",{parentName:"p"},"style"),"\u81ea\u5b9a\u4e49"),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"contentWidget",src:n(53106).A,width:"336",height:"132"})),(0,i.yg)("p",null,"\u89c1",(0,i.yg)("a",{parentName:"p",href:"https://microsoft.github.io/monaco-editor/docs.html#interfaces/editor.IContentWidget.html"},"https://microsoft.github.io/monaco-editor/docs.html#interfaces/editor.IContentWidget.html")),(0,i.yg)("h3",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"var contentWidget = {\n  domNode: null,\n  getId: function () {\n    return 'my.content.widget';\n  },\n  getDomNode: function () {\n    if (!this.domNode) {\n      this.domNode = document.createElement('div');\n      this.domNode.innerHTML = 'My content widget';\n      this.domNode.style.background = 'red';\n    }\n    return this.domNode;\n  },\n  getPosition: function () {\n    return {\n      position: {\n        lineNumber: 17,\n        column: 18\n      },\n      preference: [\n        monaco.editor.ContentWidgetPositionPreference.ABOVE,\n        monaco.editor.ContentWidgetPositionPreference.BELOW\n      ]\n    };\n  }\n};\neditor.addContentWidget(contentWidget);\n")),(0,i.yg)("h3",{id:"properties"},"Properties"),(0,i.yg)("h4",{id:"alloweditoroverflow"},"allowEditorOverflow"),(0,i.yg)("p",null,"\u662f\u5426\u5141\u8bb8\u5c0f\u90e8\u4ef6\u6ea2\u51faEditor\u5bb9\u5668"),(0,i.yg)("h4",{id:"suppressmousedown"},"suppressMouseDown"),(0,i.yg)("p",null,"\u7981\u6b62\u5c0f\u90e8\u4ef6\u7684",(0,i.yg)("inlineCode",{parentName:"p"},"mousedown"),"\u7684\u9ed8\u8ba4\u4e8b\u4ef6\uff08\u76f8\u5f53\u4e8e",(0,i.yg)("inlineCode",{parentName:"p"},"e.preventDefault()"),"\uff09"),(0,i.yg)("h3",{id:"methods"},"Methods"),(0,i.yg)("h4",{id:"afterrender"},"afterRender"),(0,i.yg)("h4",{id:"beforerender"},"beforeRender"),(0,i.yg)("h4",{id:"getdomnode"},"getDomNode"),(0,i.yg)("p",null,"\u8fd4\u56de",(0,i.yg)("inlineCode",{parentName:"p"},"HTMLElement")),(0,i.yg)("h4",{id:"getid"},"getId"),(0,i.yg)("p",null,"\u8fd4\u56de\u4e00\u4e2a",(0,i.yg)("inlineCode",{parentName:"p"},"string"),"\u4f5c\u4e3a\u5c0f\u90e8\u4ef6\u7684\u552f\u4e00id"),(0,i.yg)("h4",{id:"getposition"},"getPosition"),(0,i.yg)("p",null,"\u83b7\u53d6\u5185\u5bb9\u5c0f\u90e8\u4ef6\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u8fd4\u56de null\uff0c\u5185\u5bb9\u5c0f\u90e8\u4ef6\u5c06\u88ab\u653e\u7f6e\u5728\u5c4f\u5e55\u4e4b\u5916"),(0,i.yg)("p",null,"\u8fd4\u56de",(0,i.yg)("a",{parentName:"p",href:"https://microsoft.github.io/monaco-editor/docs.html#interfaces/editor.IContentWidgetPosition.html"},(0,i.yg)("inlineCode",{parentName:"a"},"IContentWidgetPosition"),"\u5bf9\u8c61"),", \u5305\u542b\uff1a"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"position:  {",(0,i.yg)("inlineCode",{parentName:"li"},"column"),": \u5217\uff08\u4ece1\u5f00\u59cb\uff09\uff0c",(0,i.yg)("inlineCode",{parentName:"li"},"lineNumber"),": \u884c\u53f7\uff08\u4ece1\u5f00\u59cb\uff09}\uff0c \u5fc5\u9009\u9879"),(0,i.yg)("li",{parentName:"ul"},"preference \u9996\u9009\u9879\uff0c\u662f\u4e2a\u6570\u7ec4\uff0c\u5224\u65ad",(0,i.yg)("inlineCode",{parentName:"li"},"position"),"\u4f4d\u7f6e\u662f\u5185\u5bb9\u76f8\u5bf9",(0,i.yg)("inlineCode",{parentName:"li"},"\u884c\u5217"),"\u7684\u4f4d\u7f6e\uff0c \u5fc5\u9009\u9879",(0,i.yg)("ul",{parentName:"li"},(0,i.yg)("li",{parentName:"ul"},"monaco.editor.ContentWidgetPositionPreference.ABOVE  \u5185\u5bb9\u5728",(0,i.yg)("inlineCode",{parentName:"li"},"position"),"\u7684\u4e0a\u65b9"),(0,i.yg)("li",{parentName:"ul"},"monaco.editor.ContentWidgetPositionPreference.BELOW  \u5185\u5bb9\u5728",(0,i.yg)("inlineCode",{parentName:"li"},"position"),"\u7684\u4e0b\u65b9"),(0,i.yg)("li",{parentName:"ul"},"monaco.editor.ContentWidgetPositionPreference.EXACT  \u5185\u5bb9\u8986\u76d6\u5230",(0,i.yg)("inlineCode",{parentName:"li"},"position"),"\u5185\u5bb9\u4e0a\u9762")))),(0,i.yg)("h2",{id:"overlaywidget-\u8499\u7248\u90e8\u4ef6"},"OverlayWidget \u8499\u7248\u90e8\u4ef6"),(0,i.yg)("p",null,"\u663e\u793a\u5728\u7f16\u8f91\u5668\u5185\u5bb9\u4e0a\u65b9\uff0c\u4e0d\u53ef\u7a7f\u900f\uff0c\u4f1a\u6321\u4f4f\u7f16\u8f91\u5668\u5185\u5bb9"),(0,i.yg)("p",null,(0,i.yg)("img",{alt:"overlayWidget",src:n(57965).A,width:"345",height:"227"})),(0,i.yg)("p",null,"\u89c1",(0,i.yg)("a",{parentName:"p",href:"https://microsoft.github.io/monaco-editor/docs.html#interfaces/editor.IOverlayWidget.html"},"https://microsoft.github.io/monaco-editor/docs.html#interfaces/editor.IOverlayWidget.html")),(0,i.yg)("h3",{id:"\u4f7f\u7528-1"},"\u4f7f\u7528"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"var overlayWidget = {\n domNode: null,\n getId: function () {\n  return 'my.overlay.widget';\n },\n getDomNode: function () {\n  if (!this.domNode) {\n   this.domNode = document.createElement('div');\n   this.domNode.innerHTML = 'My overlay widget';\n   this.domNode.style.background = 'grey';\n   this.domNode.style.right = '30px';\n   this.domNode.style.top = '50px';\n  }\n  return this.domNode;\n },\n getPosition: function () {\n  return null;\n }\n};\neditor.addOverlayWidget(overlayWidget);\n")),(0,i.yg)("h3",{id:"methods-1"},"Methods"),(0,i.yg)("p",null,"\u540c ",(0,i.yg)("a",{parentName:"p",href:"#contentwidget%E5%86%85%E5%AE%B9%E9%83%A8%E4%BB%B6"},"ContentWidget")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"getDomNode"),(0,i.yg)("li",{parentName:"ul"},"getId"),(0,i.yg)("li",{parentName:"ul"},"getPosition")))}c.isMDXComponent=!0},53106:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/monaco03-57878cb6ad319c18894eb4d0a6e86ee3.png"},57965:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/monaco04-32a9dd423144edab266f22fdbbc23554.png"},58860:(e,t,n)=>{n.d(t,{xA:()=>s,yg:()=>u});var o=n(37953);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var a=o.createContext({}),g=function(e){var t=o.useContext(a),n=t;return e&&(n="function"==typeof e?e(t):d(d({},t),e)),n},s=function(e){var t=g(e.components);return o.createElement(a.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef(function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,a=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=g(n),m=i,u=p["".concat(a,".").concat(m)]||p[m]||c[m]||r;return n?o.createElement(u,d(d({ref:t},s),{},{components:n})):o.createElement(u,d({ref:t},s))});function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,d=new Array(r);d[0]=m;var l={};for(var a in t)hasOwnProperty.call(t,a)&&(l[a]=t[a]);l.originalType=e,l[p]="string"==typeof e?e:i,d[1]=l;for(var g=2;g<r;g++)d[g]=n[g];return o.createElement.apply(null,d)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);