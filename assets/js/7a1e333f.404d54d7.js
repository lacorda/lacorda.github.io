"use strict";(self.webpackChunklacorda_github_io=self.webpackChunklacorda_github_io||[]).push([[2736],{58860:(e,n,t)=>{t.d(n,{xA:()=>g,yg:()=>m});var o=t(37953);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=o.createContext({}),s=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},g=function(e){var n=s(e.components);return o.createElement(c.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},p=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),u=s(t),p=i,m=u["".concat(c,".").concat(p)]||u[p]||d[p]||a;return t?o.createElement(m,r(r({ref:n},g),{},{components:t})):o.createElement(m,r({ref:n},g))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,r=new Array(a);r[0]=p;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[u]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<a;s++)r[s]=t[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}p.displayName="MDXCreateElement"},86779:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var o=t(75890),i=(t(37953),t(58860));const a={description:"notifications",slug:"/0b75e5b",tags:["notifications"]},r="notifications \u901a\u77e5",l={unversionedId:"Chrome\u7bc7/Chrome\u63d2\u4ef6/API/notifications",id:"Chrome\u7bc7/Chrome\u63d2\u4ef6/API/notifications",title:"notifications \u901a\u77e5",description:"notifications",source:"@site/01.docs/05.Chrome\u7bc7/02.Chrome\u63d2\u4ef6/03.API/10.notifications.md",sourceDirName:"05.Chrome\u7bc7/02.Chrome\u63d2\u4ef6/03.API",slug:"/0b75e5b",permalink:"/docs/0b75e5b",draft:!1,editUrl:"https://github.com/lacorda/lacorda.github.io/blob/master/docs/01.docs/05.Chrome\u7bc7/02.Chrome\u63d2\u4ef6/03.API/10.notifications.md",tags:[{label:"notifications",permalink:"/docs/tags/notifications"}],version:"current",lastUpdatedBy:"Lacorda",lastUpdatedAt:1704274640,formattedLastUpdatedAt:"2024\u5e741\u67083\u65e5",sidebarPosition:10,frontMatter:{description:"notifications",slug:"/0b75e5b",tags:["notifications"]},sidebar:"tutorialSidebar",previous:{title:"commands \u5feb\u6377\u952e",permalink:"/docs/126376f"},next:{title:"offscreen \u79bb\u5c4f\u6587\u6863",permalink:"/docs/0579a28"}},c={},s=[{value:"\u6743\u9650\u8bbe\u7f6e",id:"\u6743\u9650\u8bbe\u7f6e",level:2},{value:"\u65b9\u6cd5",id:"\u65b9\u6cd5",level:2},{value:"\u521b\u5efa\u901a\u77e5",id:"\u521b\u5efa\u901a\u77e5",level:3},{value:"clear() \u6e05\u9664\u901a\u77e5",id:"clear-\u6e05\u9664\u901a\u77e5",level:3},{value:"update() \u66f4\u65b0\u901a\u77e5",id:"update-\u66f4\u65b0\u901a\u77e5",level:3},{value:"getPermissionLevel() \u83b7\u53d6\u901a\u77e5\u6743\u9650",id:"getpermissionlevel-\u83b7\u53d6\u901a\u77e5\u6743\u9650",level:3},{value:"getAll() \u83b7\u53d6\u6240\u6709\u901a\u77e5",id:"getall-\u83b7\u53d6\u6240\u6709\u901a\u77e5",level:3},{value:"\u4e8b\u4ef6",id:"\u4e8b\u4ef6",level:2},{value:"onClosed \u5173\u95ed\u4e8b\u4ef6",id:"onclosed-\u5173\u95ed\u4e8b\u4ef6",level:3},{value:"onClicked \u70b9\u51fb\u4e8b\u4ef6",id:"onclicked-\u70b9\u51fb\u4e8b\u4ef6",level:3},{value:"onButtonClicked \u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6",id:"onbuttonclicked-\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6",level:3},{value:"onPermissionLevelChanged \u6743\u9650\u7ea7\u522b\u53d8\u66f4\u4e8b\u4ef6",id:"onpermissionlevelchanged-\u6743\u9650\u7ea7\u522b\u53d8\u66f4\u4e8b\u4ef6",level:3},{value:"onShowSettings \u663e\u793a\u4e8b\u4ef6",id:"onshowsettings-\u663e\u793a\u4e8b\u4ef6",level:3}],g={toc:s},u="wrapper";function d(e){let{components:n,...t}=e;return(0,i.yg)(u,(0,o.A)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"notifications-\u901a\u77e5"},"notifications \u901a\u77e5"),(0,i.yg)("p",null,(0,i.yg)("a",{parentName:"p",href:"https://developer.chrome.com/docs/extensions/reference/notifications"},"\u5b98\u65b9\u6587\u6863")),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u5141\u8bb8\u7528\u6237\u521b\u5efa\u3001\u663e\u793a\u548c\u66f4\u65b0\u901a\u77e5")),(0,i.yg)("h2",{id:"\u6743\u9650\u8bbe\u7f6e"},"\u6743\u9650\u8bbe\u7f6e"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-json"},'"permissions": [\n  "notifications"\n],\n')),(0,i.yg)("admonition",{title:"\u65b0\u7248\u672cChrome\u6d4f\u89c8\u5668\u7981\u7528\u4e86MacOS\u672c\u673a\u901a\u77e5",type:"tip"},(0,i.yg)("p",{parentName:"admonition"},"\u89e3\u51b3\u65b9\u6848\uff1a "),(0,i.yg)("ol",{parentName:"admonition"},(0,i.yg)("li",{parentName:"ol"},"\u5728Chrome\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\u5730\u5740\uff1achrome://flags\u3002 "),(0,i.yg)("li",{parentName:"ol"},"\u641c\u7d22\u680f\u4e2d\u641c\u7d22\uff1anotifications\uff0c\u627e\u5230 Enable system notifications \u9009\u9879\uff0c\u5c06\u5176\u9009\u9879\u503c\u6539\u4e3a Disabled"),(0,i.yg)("li",{parentName:"ol"},"\u91cd\u542f\u6d4f\u89c8\u5668\uff0c\u95ee\u9898\u89e3\u51b3\u3002"))),(0,i.yg)("h2",{id:"\u65b9\u6cd5"},"\u65b9\u6cd5"),(0,i.yg)("h3",{id:"\u521b\u5efa\u901a\u77e5"},"\u521b\u5efa\u901a\u77e5"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-ts"},"type NotificationOptions = {\n  // \u901a\u77e5\u7c7b\u578b\n  type: 'basic' | 'image' | 'list' | 'progress';\n  // \u901a\u77e5\u56fe\u6807\uff08\u53ef\u4ee5\u662f\u53d1\u4ef6\u4eba\u5934\u50cf\uff0c\u5e94\u7528\u56fe\u6807\u7b49\uff09\n  iconUrl: string;\n  // \u901a\u77e5\u6807\u9898\n  title: string;\n  // \u901a\u77e5\u5185\u5bb9\n  message: string;\n  // \u901a\u77e5\u6309\u94ae\uff0c\u6700\u591a\u4e24\u4e2a\n  buttons: {\n    title: string;\n  }[];\n  // \u901a\u77e5\u4f18\u5148\u7ea7(\u4ece -2 \u5230 2\u3002-2 \u662f\u6700\u4f4e\u4f18\u5148\u7ea7\u30022 \u662f\u6700\u9ad8\u7684\u3002\u9ed8\u8ba4\u503c\u4e3a\u96f6)\n  priority: number;\n\n  // \u4f7f\u7528\u8f83\u4f4e\u7c97\u7ec6\u5b57\u4f53\u7684\u5907\u7528\u901a\u77e5\u5185\u5bb9\n  contextMessage: string;\n  // \u901a\u77e5\u5217\u8868(Mac OS X \u4e0a\u7684\u7528\u6237\u53ea\u80fd\u770b\u5230\u7b2c\u4e00\u9879)\n  items: {\n    title: string;\n    message: string;\n  }[];\n  // \u663e\u793a\u901a\u77e5\u65f6\u4e0d\u5e94\u53d1\u51fa\u58f0\u97f3\u6216\u632f\u52a8\u3002\u9ed8\u8ba4\u503c\u4e3a false\u3002\n  silent: boolean;\n  // \u901a\u77e5\u662f\u5426\u53ef\u5173\u95ed\n  requireInteraction: boolean;\n  // \u901a\u77e5\u8fdb\u5ea6(\u4ece 0 \u5230 100)\n  progress: number;\n  // \u901a\u77e5\u8fdb\u5ea6\u72b6\u6001\n  progressState: 'indeterminate' | 'error' | 'paused' | 'normal';\n  // \u4e8b\u4ef6\u65f6\u95f4\u6233\uff08\u4ee5ms\u4e3a\u5355\u4f4d\uff09\n  eventTime: number;\n}\n\nchrome.notifications.create(\n  notificationId: string,\n  options: NotificationOptions,\n  callback?: function,\n)\n")),(0,i.yg)("h3",{id:"clear-\u6e05\u9664\u901a\u77e5"},"clear() \u6e05\u9664\u901a\u77e5"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u6e05\u9664\u901a\u77e5")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-ts"},"chrome.notifications.clear(\n  notificationId: string,\n  callback?: function,\n)\n")),(0,i.yg)("h3",{id:"update-\u66f4\u65b0\u901a\u77e5"},"update() \u66f4\u65b0\u901a\u77e5"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u66f4\u65b0\u901a\u77e5")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-ts"},"chrome.notifications.update(\n  notificationId: string,\n  options: NotificationOptions,\n  callback?: function,\n)\n")),(0,i.yg)("h3",{id:"getpermissionlevel-\u83b7\u53d6\u901a\u77e5\u6743\u9650"},"getPermissionLevel() \u83b7\u53d6\u901a\u77e5\u6743\u9650"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u83b7\u53d6\u901a\u77e5\u6743\u9650")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-ts"},"chrome.notifications.getPermissionLevel(\n  callback?: function,\n)\n")),(0,i.yg)("h3",{id:"getall-\u83b7\u53d6\u6240\u6709\u901a\u77e5"},"getAll() \u83b7\u53d6\u6240\u6709\u901a\u77e5"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u83b7\u53d6\u6240\u6709\u901a\u77e5")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-ts"},"chrome.notifications.getAll(\n  callback?: function,\n)\n")),(0,i.yg)("h2",{id:"\u4e8b\u4ef6"},"\u4e8b\u4ef6"),(0,i.yg)("h3",{id:"onclosed-\u5173\u95ed\u4e8b\u4ef6"},"onClosed \u5173\u95ed\u4e8b\u4ef6"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u5f53\u901a\u77e5\u5173\u95ed\u65f6\u89e6\u53d1")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// background.js\nchrome.notifications.onClosed.addListener((notificationId, byUser) => {\n  console.log('\ud83c\udf44  background: >>>>>>>>>>>>>>>>>> \u76d1\u542c\u5173\u95ed\u4e8b\u4ef6', Date.now(), notificationId, byUser);\n});\n")),(0,i.yg)("h3",{id:"onclicked-\u70b9\u51fb\u4e8b\u4ef6"},"onClicked \u70b9\u51fb\u4e8b\u4ef6"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u5f53\u901a\u77e5\u88ab\u70b9\u51fb\u65f6\u89e6\u53d1")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// background.js\nchrome.notifications.onClicked.addListener((notificationId) => {\n  console.log('\ud83c\udf44  background: >>>>>>>>>>>>>>>>>> \u76d1\u542c\u70b9\u51fb\u4e8b\u4ef6', Date.now(), notificationId);\n});\n")),(0,i.yg)("h3",{id:"onbuttonclicked-\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6"},"onButtonClicked \u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u5f53\u901a\u77e5\u6309\u94ae\u88ab\u70b9\u51fb\u65f6\u89e6\u53d1")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// background.js\nchrome.notifications.onButtonClicked.addListener((notificationId, buttonIndex) => {\n  console.log('\ud83c\udf44  background: >>>>>>>>>>>>>>>>>> \u76d1\u542c\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6', Date.now(), notificationId, buttonIndex);\n});\n")),(0,i.yg)("h3",{id:"onpermissionlevelchanged-\u6743\u9650\u7ea7\u522b\u53d8\u66f4\u4e8b\u4ef6"},"onPermissionLevelChanged \u6743\u9650\u7ea7\u522b\u53d8\u66f4\u4e8b\u4ef6"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u5f53\u901a\u77e5\u6743\u9650\u7ea7\u522b\u53d8\u66f4\u65f6\u89e6\u53d1")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// background.js\nchrome.notifications.onPermissionLevelChanged.addListener((level) => {\n  console.log('\ud83c\udf44  background: >>>>>>>>>>>>>>>>>> \u76d1\u542c\u6743\u9650\u53d8\u66f4\u4e8b\u4ef6', Date.now(), level);\n});\n")),(0,i.yg)("h3",{id:"onshowsettings-\u663e\u793a\u4e8b\u4ef6"},"onShowSettings \u663e\u793a\u4e8b\u4ef6"),(0,i.yg)("blockquote",null,(0,i.yg)("p",{parentName:"blockquote"},"\u5f53\u901a\u77e5\u663e\u793a\u65f6\u89e6\u53d1")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-js"},"// background.js\nchrome.notifications.onShowSettings.addListener((notificationId) => {\n  console.log('\ud83c\udf44  background: >>>>>>>>>>>>>>>>>> \u76d1\u542c\u663e\u793a\u4e8b\u4ef6', Date.now(), notificationId);\n});\n")))}d.isMDXComponent=!0}}]);