---
description: git stach
slug: /c784d6f
tags: 
  - git stach
---


## åº”ç”¨åœºæ™¯

ğŸ‘‰ å½“ä½ æˆ‘ä»¬æ­£åœ¨ä¸€ä¸ªåˆ†æ”¯å¼€å‘æŸä¸ªåŠŸèƒ½æ—¶ï¼ˆè¿˜æœªå®Œæˆï¼‰ï¼Œçªç„¶éœ€è¦æˆ‘ä»¬åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ä¸Šå¤„ç†ä¸€äº›äº‹æƒ…ï¼ˆæ¯”å¦‚ä¿®æ”¹bugï¼‰ï¼Œç›´æ¥åˆ‡æ¢æ˜¯ä¸å¯ä»¥çš„ï¼Œä¸€ç§æ–¹æ³•æ˜¯æˆ‘ä»¬å¯ä»¥å°†ç›®å‰çš„æ”¹åŠ¨æäº¤ï¼Œè€Œæˆ‘ä»¬æ­¤æ—¶å¹¶ä¸æƒ³commitï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨`stash`å°†ä»£ç æš‚æ—¶  ***å‚¨è—***  èµ·æ¥

## ä¿å­˜å½“å‰ä»£ç 
ğŸ‘‰ å¿«é€Ÿå‚¨è—ä»£ç ï¼Œé»˜è®¤å‚¨è—åç§°ä¸º"WIP on <branch_name> ï¼š <latest_commit_id> <latest_commit_message>"

```bash
# zshå¿«æ·æŒ‡ä»¤ï¼šgsta
git stash
```

æ·»åŠ å‚¨è—ä¿¡æ¯
```bash
git stash save "message"
```

## æŸ¥çœ‹stashä»£ç 
```bash
git stash list  # æŸ¥çœ‹stashåˆ—è¡¨, zshå¿«æ·æŒ‡ä»¤ï¼šgstl
git stash show  #æŸ¥çœ‹ç¬¬ä¸€ä¸ªå‚¨è—åšäº†å“ªäº›æ”¹åŠ¨(å¹¶ä¸æ˜¯æ”¹åŠ¨è¯¦æƒ…), zshå¿«æ·æŒ‡ä»¤ï¼šgsts
git stash show {num}  # æŸ¥çœ‹å…¶ä»–å‚¨è—åšäº†å“ªäº›æ”¹åŠ¨
git stash show -p  # æŸ¥çœ‹ç¬¬ä¸€ä¸ªå‚¨è—çš„æ”¹åŠ¨
git stash show -p {num}  # æŸ¥çœ‹å…¶ä»–å‚¨è—åšçš„æ”¹åŠ¨
```


## åº”ç”¨stashä»£ç (ä¸ä¼šä»stashåˆ—è¡¨åˆ é™¤)
```bash
git stash pop  # åº”ç”¨ç¬¬ä¸€ä¸ªå‚¨è—, zshå¿«æ·æŒ‡ä»¤ï¼šgstp
git stash pop {num}  # åº”ç”¨stash listä¸­çš„ç¬¬numä¸ªå‚¨è—
```

## ä»stashåˆ—è¡¨åˆ é™¤
```bash
git stash drop  # åˆ é™¤ç¬¬ä¸€ä¸ªå‚¨è—, zshå¿«æ·æŒ‡ä»¤ï¼šgstd
git stash drop {num} # åˆ é™¤stash listä¸­çš„å‚¨è—ï¼Œä¾‹å¦‚åˆ é™¤ç¬¬äºŒä¸ªï¼šgit stash drop stash@{1}
git stash clear # åˆ é™¤æ‰€æœ‰å‚¨è—çš„stash, zshå¿«æ·æŒ‡ä»¤ï¼šgstc
```


## ä»¥stashå‚¨è—åˆ›å»ºä¸€ä¸ªåˆ†æ”¯
```bash
git stash branch {branchName} {num}  # åˆ›å»ºæ–°åˆ†æ”¯branchNameï¼Œå¹¶åˆ‡æ¢åˆ°æ­¤åˆ†æ”¯ï¼Œåˆ†æ”¯çš„çŠ¶æ€ä¸stashå‚¨è—æ—¶çš„çŠ¶æ€ä¸€è‡´ï¼Œæ­¤æ—¶æ–°åˆ†æ”¯åº”ç”¨çš„stashä»£ç è¿›äº†æš‚å­˜åŒº
```


## æ³¨æ„äº‹é¡¹

:::tip git stashä¿¡æ¯å­˜å‚¨åˆ°å“ªäº†ï¼Ÿ

é¡¹ç›®è·¯å¾„ä¸‹çš„.gitæ–‡ä»¶ä¸­å­˜å‚¨ç€ç‰ˆæœ¬ç®¡ç†çš„æ‰€æœ‰ä¿¡æ¯ï¼Œåœ¨æ–‡ä»¶ `.git/log/refs/stash` ä¸­å¯ä»¥çœ‹åˆ°å…¨éƒ¨çš„ stash è®°å½•ä¿¡æ¯

:::


:::tip  æ–°å¢æ–‡ä»¶(ä¸æ˜¯æ–°å¢ä»£ç )æ—¶ï¼Œgit stashå¹¶ä¸ä¼šå‚¨è—æ–°å¢çš„æ–‡ä»¶?

æ²¡æœ‰åœ¨git ç‰ˆæœ¬æ§åˆ¶ä¸­çš„æ–‡ä»¶ï¼Œæ˜¯ä¸èƒ½è¢«git stash å­˜èµ·æ¥çš„ ï¼Œæ­¤æ—¶éœ€è¦å…ˆæ‰§è¡Œä¸‹git add å°†æ–°å¢æ–‡ä»¶åŠ åˆ°gitç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œç„¶åå†git stashå°±å¯ä»¥äº†

:::


:::tip å¦‚ä½•åªä¿å­˜æŸäº›æ–‡ä»¶ï¼Ÿ

æ€»å…±åˆ†3æ­¥ï¼š
1. add é‚£äº›ä½ ä¸æƒ³å¤‡ä»½çš„æ–‡ä»¶:git add file1.js, file2.jsï¼›
2. ç”¨`git stash --keep-index`ï¼šåªä¼šä¿å­˜é‚£äº›æ²¡æœ‰è¢«addçš„æ–‡ä»¶ï¼›
3. `git reset HEAD`ï¼Œå°†æš‚å­˜åŒºçš„ä¿®æ”¹é‡ç½®åˆ°å·¥ä½œåŒºç»§ç»­coding

:::


:::tip git stash push

1. `git stash push -m "message"` ç­‰åŒäº `git stash save "message"`
2. `git stash push dir/file.js` å¯ä»¥æŒ‡å®šå‚¨è—è·¯å¾„ï¼ˆå³ä¸Šé¢çš„é—®é¢˜-åªä¿å­˜æŸäº›æ–‡ä»¶ï¼Œ`git stash save` æ— æ­¤åŠŸèƒ½ï¼‰

:::

