---
description: contextMenus
slug: /f807f5e
tags: 
  - contextMenus
---
# contextMenus å³é”®èœå•

[å®˜æ–¹æ–‡æ¡£](https://developer.chrome.com/docs/extensions/reference/contextMenus)

> å…è®¸ç”¨æˆ·æ·»åŠ èœå•é¡¹åˆ°æµè§ˆå™¨çš„å³é”®èœå•ä¸­

## æƒé™è®¾ç½®

```json
"permissions": [ 
  "contextMenus"
],
```

## æ–¹æ³•

### create() åˆ›å»ºèœå•é¡¹
>
> åˆ›å»ºèœå•é¡¹ï¼Œå¦‚æœå·²å­˜åœ¨ï¼Œåˆ™ä¼šæ›´æ–°

```ts
// èœå•é¡¹ä¿¡æ¯
type menuItemInfo = {
  // èœå•é¡¹æ ‡é¢˜
  title: string;
  // èœå•é¡¹ç±»å‹
  type: 'normal' | 'checkbox' | 'radio' | 'separator';
  // èœå•é¡¹å›¾æ ‡
  iconUrl: string;
  // èœå•é¡¹æ˜¯å¦å¯ç”¨
  enabled: boolean;
  // èœå•é¡¹æ˜¯å¦å¯è§
  visible: boolean;
  // èœå•é¡¹æ˜¯å¦é€‰ä¸­
  checked: boolean;
  // èœå•é¡¹å­èœå•
  children: menuItemInfo[];
}

chrome.contextMenus.create(menuItemInfo: menuItemInfo, callback?: function);
```

```js
// background.js
chrome.runtime.onInstalled.addListener(async ({ reason }) => {
  if (reason !== 'install') {
    return;
  }

  // Create an alarm so we have something to look at in the demo
  await chrome.contextMenus.create({
    id: 'my-menu',
    title: 'My Menu',
    type: 'normal',
    iconUrl: 'icon-48.png',
    enabled: true,
    visible: true,
    checked: false,
    children: [
      {
        id: 'my-menu-1',
        title: 'My Menu 1',
        type: 'normal',
        iconUrl: 'icon-48.png',
        enabled: true,
        visible: true,
        checked: false,
        children: [],
      },
      {
        id: 'my-menu-2',
        title: 'My Menu 2',
        type: 'normal',
        iconUrl: 'icon-48.png',
        enabled: true,
        visible: true,
        checked: false,
        children: [],
      },
    ],
  });
});
```

## äº‹ä»¶

### onClickedäº‹ä»¶
>
> ç›‘å¬èœå•é¡¹ç‚¹å‡»äº‹ä»¶

```js
// background.js
chrome.contextMenus.onClicked.addListener((info, tab) => {
  console.log('ğŸ„  background: >>>>>>>>>>>>>>>>>> ç›‘å¬èœå•é¡¹ç‚¹å‡»äº‹ä»¶', Date.now(), info, tab);
});
```
